"use strict";
// Types inspired by
// https://github.com/Microsoft/TypeScript/blob/9d3707d/src/lib/dom.generated.d.ts#L10581
// Type predicate for TypeScript
function isQueryable(object) {
    return typeof object.querySelectorAll === 'function';
}
function select(selectors, baseElement) {
    // Shortcut with specified-but-null baseElement
    if (arguments.length === 2 && !baseElement) {
        return null;
    }
    return (baseElement || document).querySelector(selectors);
}
function selectLast(selectors, baseElement) {
    // Shortcut with specified-but-null baseElement
    if (arguments.length === 2 && !baseElement) {
        return null;
    }
    const all = (baseElement || document).querySelectorAll(selectors);
    return all[all.length - 1];
}
/**
 * @param selectors      One or more CSS selectors separated by commas
 * @param [baseElement]  The element to look inside of
 * @return               Whether it's been found
 */
function selectExists(selectors, baseElement) {
    if (arguments.length === 2) {
        return Boolean(select(selectors, baseElement));
    }
    return Boolean(select(selectors));
}
function selectAll(selectors, baseElements) {
    // Shortcut with specified-but-null baseElements
    if (arguments.length === 2 && !baseElements) {
        return [];
    }
    // Can be: select.all('selectors') or select.all('selectors', singleElementOrDocument)
    if (!baseElements || isQueryable(baseElements)) {
        const elements = (baseElements || document).querySelectorAll(selectors);
        return Array.apply(null, elements);
    }
    const all = [];
    for (let i = 0; i < baseElements.length; i++) {
        const current = baseElements[i].querySelectorAll(selectors);
        for (let ii = 0; ii < current.length; ii++) {
            all.push(current[ii]);
        }
    }
    // Preserves IE11 support and performs 3x better than `...all` in Safari
    const arr = [];
    all.forEach(function (v) {
        arr.push(v);
    });
    return arr;
}
select.last = selectLast;
select.exists = selectExists;
select.all = selectAll;
module.exports = select;
//# sourceMappingURL=index.js.map